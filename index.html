<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@100;400;700&family=Poppins:wght@200&display=swap"
    rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />

  <title>Portfolio</title>
  <link rel="stylesheet" href="styles.css">
  <!-- Axios CDN -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>

<body>
  <header>

    <div class="container">
      <nav class="flex items-centre justify-between">
        <div class="left flex justfiy-right">
          <div class="logo">
            <!-- Add your logo here -->
          </div>
          <div>
            <a href="">Home</a>
            <a href="#about">About</a>
            <a href="#services">Services</a>
            <a href="https://melbite.com" target="_blank">Blog</a>
          </div>
        </div>
        <div class="right">
          <button class="btn btn-primary">Contact</button>
        </div>
      </nav>
    </div>
    <div id="hero" class="hero flex items-centre justify-between">
      <div class="left flex-1 justify-center">
        <img src="./images/evans_profile.jpg" alt="Evans Profile" />
      </div>
      <div class="right flex-1">
        <h6>Evans Mutuku</h6>
        <h1>
          I'm a Web<br />
          <span>Developer</span>
          & Founder
        </h1>
        <p>
          Based in Nairobi Kenya. Web dev, instructor & mentor. I eat, sleep and breathe React. Am a proclaimed
          self-taught fullstack Javascript developer with knowledge in Javascript, ReactJs, NodeJs
        </p>
        <div><button class="btn btn-secondary">DOWNLOAD CV</button></div>
      </div>
    </div>
  </header>

  <section id="about" class="about">
    <div class="container flex items-centre">
      <div class="left flex-1 justify-right">
        <img src="./images/evans.jpg" height="400px" alt="profile pic" />
      </div>
      <div class="right flex-1">
        <h1>About <span>Me</span></h1>
        <h3>Hello! I'm Evans Mutuku.</h3>
        <p>
          Hi there! I am Evans! You might also know me as Javascript Developer. I've been programming for over 4 years
          now as a Full Stack developer. I've worked both with startups and individuals to help build & scale their
          businesses. Along the journey I realised my passion existed in helping others excel and pursue their dreams as
          upcoming developers. Hence mentoring and teaching how to code.
        </p>
        <div class="socials">
          <a href="#"><img src="./images/evans.jpg" width="40px" alt="Social 1" /></a>
          <a href="#"><img src="./images/evans_profile.jpg" width="40px" alt="Social 2" /></a>
        </div>
      </div>
    </div>
  </section>

  <section id="services" class="services">
    <div class="container">
      <h1 class="services-head">Services</h1>
      <p>All your digital needs... covered.</p>
      <div class="card-grid">
        <div class="card">
          <img src="https://source.unsplash.com/1600x900/?nature,water" alt="Graphic Design" />
          <h2>Graphic Design</h2>
          <p>
            Lorem ipsum dolor sit amet consectetur, adipisicing elit.
            Nulla, debitis?
          </p>
        </div>
        <div class="card">
          <img src="https://source.unsplash.com/1600x900/?boy,men" alt="Web Development" />
          <h2>Web Development</h2>
          <p>
            Lorem ipsum dolor sit amet consectetur, adipisicing elit.
            Nulla, debitis?
          </p>
        </div>
        <div class="card">
          <img src="https://source.unsplash.com/1600x900/?car,bike" alt="Content Writing" />
          <h2>Content Writing</h2>
          <p>
            Lorem ipsum dolor sit amet consectetur, adipisicing elit.
            Nulla, debitis?
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Chatbot Section -->
  <section id="chatbot" class="chatbot">
    <div class="container">
      <h1>Chat with Our Assistant</h1>
      <div class="chat-interface">
        <input type="text" id="userInput" placeholder="Type your message here" />
        <button id="sendButton">Send</button>
      </div>
      <div id="chatResponse" class="chat-response">
        <!-- Chatbot responses will appear here -->
      </div>
    </div>
  </section>

  <section class="contact">
    <div class="content">
      <div class="left-side">
        <div class="address details">
          <i class="fas fa-map-marker-alt"></i>
          <div class="topic">Address</div>
          <div class="text-one">Nairobi</div>
          <div class="text-two">Kenya</div>
        </div>
        <div class="phone details">
          <i class="fas fa-phone-alt"></i>
          <div class="topic">Phone</div>
          <div class="text-one">+254712345678</div>
          <div class="text-two">+254712345678</div>
        </div>
        <div class="email details">
          <i class="fas fa-envelope"></i>
          <div class="topic">Email</div>
          <div class="text-two">progskill1@gmail.com</div>
        </div>
      </div>
      <div class="right-side">
        <div class="topic-text">Send us a message</div>
        <p>If you have any work from me or any types of queries related to my tutorial, you can send me a message from
          here. It's my pleasure to help you.</p>
        <form action="#">
          <div class="input-box">
            <input type="text" placeholder="Enter your name" required>
          </div>
          <div class="input-box">
            <input type="email" placeholder="Enter your email" required>
          </div>
          <textarea class="input-box message-box" placeholder="Your message" required></textarea>
          <div class="button">
            <input type="submit" value="Send Now">
          </div>
        </form>
      </div>
    </div>

  </section>
  <section class="footer">
    <div class="footer-row">
      <div class="footer-col">
        <h4>Info</h4>
        <ul class="links">
          <li><a href="#">About Us</a></li>
          <li><a href="#">Compressions</a></li>
          <li><a href="#">Customers</a></li>
          <li><a href="#">Service</a></li>
          <li><a href="#">Collection</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h4>Explore</h4>
        <ul class="links">
          <li><a href="https://melbite.com" target="_blank">My Blog</a></li>
          <li><a href="#">Latest Designs</a></li>
          <li><a href="#">Themes</a></li>
          <li><a href="#">Popular Designs</a></li>
          <li><a href="#">Art Skills</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h4>Legal</h4>
        <ul class="links">
          <li><a href="#">Customer Agreement</a></li>
          <li><a href="#">Privacy Policy</a></li>
          <li><a href="#">Security</a></li>
          <li><a href="#">Testimonials</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h4>Newsletter</h4>
        <p>
          Subscribe to our newsletter for a weekly dose
          of news, updates, helpful tips, and
          exclusive offers.
        </p>
        <form action="#">
          <input type="email" placeholder="Your email" required>
          <button type="submit">SUBSCRIBE</button>
        </form>
        <div class="icons">
          <i class="fa-brands fa-facebook"></i>
          <i class="fa-brands fa-twitter"></i>
          <i class="fa-brands fa-linkedin"></i>
          <i class="fa-brands fa-github"></i>
        </div>
      </div>
    </div>
  </section>

  <!-- Chatbot JavaScript -->
  <script>
    let session_id;

    // Start a chat session to get the session ID
    async function startChatSession() {
      try {
        const chatSession = await axios.post(
          'https://agentivehub.com/api/chat/session',
          {
            "api_key": "f082e4c5-a27f-4982-bc0d-04f692794f99",
            "assistant_id": "69853a49-410e-47ee-a78c-15c64b76ce2c",
          }
        );

        session_id = chatSession.data.session_id;
        console.log("Session ID:", session_id);
        // Optionally, you can send an initial message here
      } catch (error) {
        console.error("Error starting chat session:", error);
        document.getElementById("chatResponse").innerText = "Error: Unable to start chat session.";
      }
    }

    // Send the user message to the chatbot API
    async function sendMessage() {
      const userMessage = document.getElementById("userInput").value.trim();

      if (userMessage === "") {
        alert("Please enter a message.");
        return;
      }

      if (!session_id) {
        document.getElementById("chatResponse").innerText = "Initializing session. Please wait...";
        await startChatSession();
        return;
      }

      const chatRequest = {
        api_key: "f082e4c5-a27f-4982-bc0d-04f692794f99",
        session_id: session_id,
        type: 'custom_code',
        assistant_id: "69853a49-410e-47ee-a78c-15c64b76ce2c",
        messages: [{ role: 'user', content: userMessage }]
      };

      try {
        const chat = await axios.post(
          'https://agentivehub.com/api/chat',
          chatRequest
        );
        const responseContent = chat.data.message || "No response received.";
        displayResponse(responseContent);
      } catch (error) {
        console.error("Error sending message:", error);
        document.getElementById("chatResponse").innerText = "Error: Unable to get a response.";
      }
    }

    // Display chatbot response
    function displayResponse(message) {
      const chatResponse = document.getElementById("chatResponse");
      const responseElement = document.createElement("p");
      responseElement.textContent = message;
      chatResponse.appendChild(responseElement);
    }

    // Initialize chat session on page load
    window.onload = startChatSession;

    // Add event listener for the send button
    document.getElementById("sendButton").addEventListener("click", sendMessage);

    // Optional: Allow sending message on Enter key press
    document.getElementById("userInput").addEventListener("keypress", function (e) {
      if (e.key === 'Enter') {
        sendMessage();
      }
    });
  </script>
</body>

</html>
